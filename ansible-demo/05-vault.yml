---
- name: testing vault
  hosts: localhost
  vars:
    # ansible-vault encrypt_string --ask-vault-pass "my secret variable" --name "vault_var"
    vault_var: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61303262376365333338383662653064363232343832663366366661636136653633313738356664
          3964643965346634393762353866663930653838373365620a633564323230346337303139356632
          34303633626639333133396662663437613630313264643335396237656536316363363661366361
          3735636139363135630a333338656234383838636135303137623364643665393363383462643630
          33663261623832343038323937306266623735333862626334393134303662356131
    # ansible-vault encrypt_string --vault-id dev@prompt "dev vault variable one" --name "vault_id_var_one"
    vault_id_var_one: !vault |
          $ANSIBLE_VAULT;1.2;AES256;dev
          37336463333665376266623365383233636464646662643262633738323734336263306163643533
          3238343733366537633236383930373362323265333730350a336639616366333931366665313566
          38396561626464373262306361323961383932656633396162653038633766396435643432313239
          6638303865323863380a343439366336343062346164653734643533623637653462346339353930
          34313839623036353131353261326663373863393561376161613331373733306262
    # ansible-vault encrypt_string --vault-id test@prompt "dev vault variable two" --name "vault_id_var_two"
    vault_id_var_two: !vault |
            $ANSIBLE_VAULT;1.2;AES256;test
            32646263663131383936636236356134633765353666643439626137366335663465643933383235
            3763343633633734333330633330653966313839633562360a666262386562626366363165343135
            65386530303933623132333231396233313632313238356535353631336631653664663436326632
            6134313232363537350a306363336562656332666364626434326334616262303931623832323462
            62653365333961323963363735643864643061366338666230633235613863616435
    # ansible-vault encrypt_string --vault-id test@prompt "test vault variable three" --name "vault_id_var_three"
    vault_id_var_three: !vault |
          $ANSIBLE_VAULT;1.2;AES256;test
          36326264373838383162633464626461383837353435303130646435323230346437303235666439
          6165346162396263646530616261383139343336626563310a306665393162333964643364376530
          36336564343632303237666363313265393133323234336565313963666438306332326364336332
          6664396463646665320a653966623135646239363966386364376566626166643638376331623332
          39653964336532353233666564633966363432366362383935646437356564343563

  tasks:
    # - name: print inline var
    #   debug:
    #     msg: "{{ vault_var }}"
    # 
    # - name: print inline var with vault id
    #   debug:
    #     msg: "{{ vault_id_var_one }}"

    # ansible-playbook vault-dev.yml --vault-id test@prompt
    - name: print inline var with vault id
      debug:
        msg: "{{ vault_id_var_two }}"

    - name: print inline var with vault id
      debug:
        msg: "{{ vault_id_var_three }}"
